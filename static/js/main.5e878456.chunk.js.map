{"version":3,"sources":["Containers/Nav.js","utils/selectFields.js","Services/hnApi.js","Styles/StoryStyles.js","utils/mapTime.js","Components/Story.js","Containers/useInfiniteScroll.js","constants/index.js","utils/debounce.js","Containers/StoriesContainer.js","Components/About.js","Components/Welcome.js","Components/Login.js","App.js","index.js"],"names":["Nav","newStyle","color","style","to","className","selectFields","id","by","url","time","title","baseUrl","newStoriesUrl","storyUrl","getStory","storyId","a","axios","get","then","data","result","getStoryIds","StoryWrapper","styled","section","StoryTitle","h1","StoryMeta","div","StoryMetaElement","span","props","mapTime","timestamp","seconds","Math","floor","Date","interval","Story","useState","story","setStory","useEffect","data-testid","href","useInfiniteScroll","loading","setLoading","count","setCount","handleScroll","func","wait","immediate","args","timeout","context","callNow","clearTimeout","setTimeout","apply","debounce","window","innerHeight","document","documentElement","scrollTop","offsetHeight","addEventListener","removeEventListener","StoriesContainer","storyIds","setStoryIds","console","log","slice","map","About","Welcome","Login","state","username","password","errorUsername","errorPassword","errorMessages","messages","isValid","this","push","setState","alert","items","error","type","name","onChange","event","target","value","placeholder","getErrorMessages","onClick","onLogin","bind","Component","App","path","exact","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5e878456.chunk.js","sourcesContent":["import React from 'react';\nimport '../App.css';\nimport { Link } from 'react-router-dom';\n\nfunction Nav() {\n  const newStyle = {\n    color: 'white',\n  };\n  return (\n    <nav>\n      <Link style={newStyle} to='/'><h3>Logo</h3></Link>\n      <ul className='nav-links'>\n        <Link style={newStyle} to='/about'><li>About</li></Link>\n        <Link style={newStyle} to='/'><li>Welcome</li></Link>\n        <Link style={newStyle} to='/login'><li>Login</li></Link>\n      </ul> \n    </nav>\n  );\n}\n\nexport default Nav;\n","export const selectFields = ({ id, by, url, time, title } = {}) => ({\n    id,\n    by,\n    url,\n    time,\n    title,\n})","import axios from 'axios';\n\nimport { selectFields } from '../utils/selectFields';\n\nexport const baseUrl = 'https://hacker-news.firebaseio.com/v0/';\nexport const newStoriesUrl = `${baseUrl}newstories.json`;\nexport const storyUrl = `${baseUrl}item/`;\n\n\n\n\nexport const getStory = async (storyId) => {\n    const result = await axios.get(`${storyUrl + storyId}.json`)\n                                .then( ({ data }) => data && selectFields(data) );\n    return result;\n}\n\nexport const getStoryIds = async () => {\n    const result = await axios.get(newStoriesUrl)\n                                .then( ({ data }) => data);\n    return result;\n}\n\n\n\n\n","import styled from 'styled-components';\n\nexport const StoryWrapper = styled.section`\n    padding-top: 10px;\n    margin-bottom: 20px;\n    border-top: 1px solid #cccccc;\n\n    &:first-of-type {\n        border-top: 0;\n    }\n\n\n    &:last-of-type {\n        margin-bottom: 0;\n        padding-bottom: 0;\n    }\n`;\n\n\nexport const StoryTitle = styled.h1`\n    margin-bottom: 5px;\n    font-size: 18px;\n    line-height: 1.8;\n    margin: 0;\n    text-decoration: none;\n\n    a { \n        color: #2e2e2c;\n        background-color: #f3dc3d;\n        text-decoration: none;\n    }\n`;\n\n\nexport const StoryMeta = styled.div`\n    font-style: italic;\n    > span:first-child { \n        margin-right: 24x;\n    }\n    > span:not(:first-child):before { \n        content: '  â€¢';\n        margin: 0 7px;\n    }\n    .story__meta-bold {\n        font-weight: bold;\n    }\n`;\n\n\nexport const StoryMetaElement = styled.span`\n    font-weight: bold;\n    color: ${props => props.color || 'red'};\n`;\n\n\n\n\n\n\n\n\n\n\n","export const mapTime = timestamp => {\n    const seconds = Math.floor((new Date() - timestamp * 1000) / 1000);\n\n    let interval = Math.floor(seconds / 31536000);\n\n    if (interval > 1) {\n    return `${interval} years`;\n    }\n    interval = Math.floor(seconds / 2592000);\n\n    if (interval > 1) {\n    return `${interval} months`;\n    }\n    interval = Math.floor(seconds / 86400);\n\n    if (interval > 1) {\n    return `${interval} days`;\n    }\n    interval = Math.floor(seconds / 3600);\n\n    if (interval > 1) {\n    return `${interval} hours`;\n    }\n    interval = Math.floor(seconds / 60);\n\n    if (interval > 1) {\n    return `${interval} minutes`;\n    }\n\n    return `${Math.floor(seconds)} seconds`;\n};","import React, { useEffect, useState } from 'react';\nimport { getStory } from '../Services/hnApi';\nimport { StoryWrapper, StoryTitle, StoryMeta, StoryMetaElement } from '../Styles/StoryStyles';\nimport { mapTime } from '../utils/mapTime'\n\nexport const Story =  ( { storyId } ) => {\n    const [story, setStory] = useState( [] );\n\n    useEffect( () => {\n        getStory(storyId).then( data => data && data.url && setStory(data) );\n    }, [] );\n\n    return story && story.url ? (\n        <StoryWrapper data-testid=\"story\">\n            <StoryTitle>\n                <a href={story.url}>{story.title}</a>\n            </StoryTitle>\n            <StoryMeta>\n                <span className=\"story__by\" data-testid=\"story__by\">\n                    <StoryMetaElement color=\"#000\">By:</StoryMetaElement>{story.by}\n                </span>\n                <span className=\"story__time\" data-testid=\"story__time\">\n                    <StoryMetaElement color=\"#000\">Posted:</StoryMetaElement>{` `}{mapTime(story.time)}\n                </span>\n            </StoryMeta>\n        </StoryWrapper>\n        ) : null;\n\n}\n\n\n\n","\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from 'react';\nimport { STORY_INCREMENT, MAX_STORIES } from '../constants';\nimport { debounce } from '../utils/debounce';\n\nexport const useInfiniteScroll = () => {\n  const [loading, setLoading] = useState(false);\n  const [count, setCount] = useState(STORY_INCREMENT);\n\n  const handleScroll = debounce(() => {\n    if (\n      window.innerHeight + document.documentElement.scrollTop !==\n        document.documentElement.offsetHeight ||\n      loading\n    ) {\n      return false;\n    }\n\n    setLoading(true);\n  }, 500);\n\n  useEffect(() => {\n    if (!loading) return;\n\n    if (count + STORY_INCREMENT >= MAX_STORIES) {\n      setCount(MAX_STORIES);\n    } else {\n      setCount(count + STORY_INCREMENT);\n    }\n\n    setLoading(false);\n  }, [loading]);\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  return { count };\n};","\nexport const MAX_STORIES = 500;\nexport const STORY_INCREMENT = 30;","export const debounce = (func, wait, immediate, args) => {\n    let timeout;\n\n    return () => {\n    const context = this;\n    const callNow = immediate && !timeout;\n    const later = () => {\n        timeout = null;\n        if (!immediate) func.apply(context, args);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n    if (callNow) func.apply(context, args);\n    };\n};","import React, { useEffect, useState } from 'react';\nimport { getStoryIds } from '../Services/hnApi';\n\nimport { Story } from '../Components/Story';\n\nimport { useInfiniteScroll } from './useInfiniteScroll';\n\nexport const StoriesContainer =  () => {\n    const { count } = useInfiniteScroll();\n    const [storyIds, setStoryIds] = useState([]);\n\n    useEffect(() => {\n        console.log('count', count)\n        getStoryIds().then(data => setStoryIds(data));\n    }, [count]);\n\n    return <>\n        <h1>Hacker new stories</h1>\n        {storyIds.slice(0, count).map(storyId => (\n            <Story key={storyId} storyId={storyId} />\n        ))}\n    </>;\n}\n\n","import React from 'react';\nimport '../App.css';\n\nimport { StoriesContainer } from '../Containers/StoriesContainer';\n\nfunction About() {\n  return (\n    <div>\n      <StoriesContainer />\n    </div>\n  );\n}\n\nexport default About;\n","import React from 'react';\nimport '../App.css';\n\n\nfunction Welcome() {\n  return (\n    <div>\n      Welcome\n    </div>\n  );\n}\n\nexport default Welcome;\n","import React, { Component } from 'react'\n\nexport default class Login extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            errorUsername: '',\n            errorPassword: '',\n            errorMessages: []\n        };\n    }\n    \n    onLogin(){\n        \n        var errorUsername = '';\n        var errorPassword = '';\n        var messages = [];\n        \n        var isValid = true;\n        \n        if(this.state.username == '') {\n            errorUsername = 'Please enter UserName';\n            messages.push(errorUsername);\n            isValid = false;\n        }\n        \n        if(this.state.password == '') {\n            errorPassword = 'Please enter Password';\n            messages.push(errorPassword);\n            isValid = false;\n        }\n        \n        this.setState({\n            errorUsername: errorUsername,\n            errorPassword: errorPassword,\n            errorMessages: messages\n        });\n        \n        if(isValid){\n            // Redirect to Home Scren\n            alert('Valided Successfully');\n        }\n        \n    }\n    \n    getErrorMessages(){\n        var items = [];\n        \n        for(var error of this.state.errorMessages){\n            items.push(<li style={{ color: 'red'}}> {error} </li>);\n        }\n        \n        return items;\n    }\n    \n    render() {\n        return <div>\n            <h3> Enter Some user name and login </h3>\n            <div>\n                <label>UserName</label>\n                <input type=\"text\" id=\"username\" name=\"username\" onChange={ event => this.state.username = event.target.value } placeholder=\"Your UserName..\" />\n                <span style={{ color: 'red'}}>{this.state.errorUsername} </span>\n                <br/>\n                <label>Password</label>\n                <input type=\"text\" id=\"password\" name=\"password\" onChange={ event => this.state.password = event.target.value } placeholder=\"Your Password..\" />\n                <span style={{ color: 'red'}}> {this.state.errorPassword}</span>\n                <br/>\n                <ul>\n                    {this.getErrorMessages()}\n                </ul>\n                <input type=\"button\" value=\"Login\" onClick={this.onLogin.bind(this)} />\n            </div>\n            </div>;\n    }\n}\n","import React from 'react';\nimport './App.css';\n\nimport Nav from './Containers/Nav';\nimport About from './Components/About';\nimport Welcome from './Components/Welcome';\nimport Login from './Components/Login';\n\nimport {HashRouter as Router, Switch, Route} from 'react-router-dom';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Nav />\n        <Switch>\n          <Route path='/' exact component={Welcome} />\n          <Route path='/about' component={About} />\n          <Route path='/login' component={Login} />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}